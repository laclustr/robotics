{"mode":"Text","hardwareTarget":"brain","textContent":"#region VEXcode Generated Robot Configuration\nfrom vex import *\nimport urandom\n\nbrain = Brain()\n\n# Motors\nleft_motor  = Motor(Ports.PORT1, GearSetting.RATIO_18_1, False)\nright_motor = Motor(Ports.PORT2, GearSetting.RATIO_18_1, True)\nchain_motor = Motor(Ports.PORT3, GearSetting.RATIO_18_1, False)\nintake_motor = Motor(Ports.PORT4, GearSetting.RATIO_18_1, False)\n\ncontroller = Controller(PRIMARY)\n\nwait(30, MSEC)\n\ndef initialize_random_seed():\n    wait(100, MSEC)\n    seed = (\n        brain.battery.voltage(MV)\n        + brain.battery.current(CurrentUnits.AMP) * 100\n        + brain.timer.system_high_res()\n    )\n    urandom.seed(int(seed))\n\ninitialize_random_seed()\n\nwait(200, MSEC)\nprint(\"\\033[2J\")\n#endregion\n\n\n# -------------------------\n# Constants & State\n# -------------------------\nSPIN_MULT = 5.455\nDRIVE_SPEED = 75\nTURN_SPEED = 100\n\nx_speed = 0\ny_speed = 0\nchain_speed = 0\nintake_speed = 0\n\n\n# -------------------------\n# Utility Functions\n# -------------------------\ndef wait_ms(ms: int):\n    wait(ms / 1000, SECONDS)\n\ndef stop_drive():\n    left_motor.set_velocity(0, PERCENT)\n    right_motor.set_velocity(0, PERCENT)\n\ndef drive(forward: bool):\n    speed = DRIVE_SPEED if forward else -DRIVE_SPEED\n    left_motor.set_velocity(speed, PERCENT)\n    right_motor.set_velocity(speed, PERCENT)\n    left_motor.spin(FORWARD)\n    right_motor.spin(FORWARD)\n\n# -------------------------\n# Movement Functions\n# -------------------------\ndef move_forward_ms(ms: int):\n    drive(True)\n    wait_ms(ms)\n    stop_drive()\n\ndef move_backward_ms(ms: int):\n    drive(False)\n    wait_ms(ms)\n    stop_drive()\n\ndef turn_right_deg(deg: int):\n    left_motor.set_velocity(TURN_SPEED, PERCENT)\n    right_motor.set_velocity(-TURN_SPEED, PERCENT)\n    left_motor.spin(FORWARD)\n    right_motor.spin(FORWARD)\n    wait_ms(deg * SPIN_MULT)\n    stop_drive()\n\ndef turn_left_deg(deg: int):\n    left_motor.set_velocity(-TURN_SPEED, PERCENT)\n    right_motor.set_velocity(TURN_SPEED, PERCENT)\n    left_motor.spin(FORWARD)\n    right_motor.spin(FORWARD)\n    wait_ms(deg * SPIN_MULT)\n    stop_drive()\n\n# -------------------------\n# Autonomous\n# -------------------------\ndef autonomous():\n    intake_motor.spin(FORWARD)\n    intake_motor.set_velocity(90, PERCENT)\n\n    move_forward_ms(900)\n    wait_ms(300)\n\n    intake_motor.set_velocity(0, PERCENT)\n    turn_right_deg(15)\n\n    intake_motor.set_velocity(90, PERCENT)\n    move_forward_ms(100)\n    wait_ms(300)\n    intake_motor.set_velocity(0, PERCENT)\n\n    turn_right_deg(160)\n    move_forward_ms(300)\n\n    turn_right_deg(10)\n    intake_motor.set_velocity(90, PERCENT)\n    move_forward_ms(400)\n    wait_ms(300)\n    intake_motor.set_velocity(0, PERCENT)\n\n    move_backward_ms(1100)\n    intake_motor.set_velocity(90, PERCENT)\n\n# -------------------------\n# Controller Callbacks\n# -------------------------\ndef axis3_changed():\n    global y_speed\n    y_speed = controller.axis3.position()\n    left_motor.set_velocity(y_speed + x_speed, PERCENT)\n    right_motor.set_velocity(y_speed - x_speed, PERCENT)\n\ndef axis4_changed():\n    global x_speed\n    x_speed = controller.axis4.position()\n    left_motor.set_velocity(y_speed + x_speed, PERCENT)\n    right_motor.set_velocity(y_speed - x_speed, PERCENT)\n\ndef axis2_changed():\n    global chain_speed\n    chain_speed = controller.axis2.position()\n    chain_motor.set_velocity(chain_speed, PERCENT)\n    chain_motor.spin(FORWARD)\n\ndef r1_pressed():\n    global intake_speed\n    intake_speed = 90\n    intake_motor.set_velocity(intake_speed, PERCENT)\n    intake_motor.spin(FORWARD)\n\ndef r2_pressed():\n    global intake_speed\n    intake_speed = -90\n    intake_motor.set_velocity(intake_speed, PERCENT)\n    intake_motor.spin(FORWARD)\n\ndef intake_stop():\n    global intake_speed\n    intake_speed = 0\n    intake_motor.set_velocity(0, PERCENT)\n\n# -------------------------\n# Startup\n# -------------------------\ndef main():\n    left_motor.set_position(0, DEGREES)\n    right_motor.set_position(0, DEGREES)\n\n    left_motor.spin(FORWARD)\n    right_motor.spin(FORWARD)\n\n    controller.axis3.changed(axis3_changed)\n    controller.axis4.changed(axis4_changed)\n    controller.axis2.changed(axis2_changed)\n\n    controller.buttonR1.pressed(r1_pressed)\n    controller.buttonR2.pressed(r2_pressed)\n    controller.buttonR1.released(intake_stop)\n    controller.buttonR2.released(intake_stop)\n\n    autonomous()\n\nmain()","textLanguage":"python","robotConfig":[{"port":[1],"name":"leftMotor","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio18_1"},"triportSourcePort":22},{"port":[2],"name":"RightMotor","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"true","fwd":"forward","rev":"reverse","gear":"ratio18_1"},"triportSourcePort":22},{"port":[3],"name":"Chain","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio18_1"},"triportSourcePort":22},{"port":[],"name":"controller_1","customName":false,"deviceType":"Controller","deviceClass":"controller","setting":{"left":"","leftDir":"false","right":"","rightDir":"false","upDown":"","upDownDir":"false","xB":"","xBDir":"false","drive":"none","id":"primary"},"triportSourcePort":22},{"port":[4],"name":"wheels","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio18_1","id":"partner"},"triportSourcePort":22}],"slot":0,"platform":"V5","sdkVersion":"20240802.15.00.00","appVersion":"4.62.0","fileFormat":"2.0.0","targetBrainGen":"First","v5Sounds":[{"name":"game over","url":"static/sounds/mixkit-arcade-retro-game-over-213.wav"}],"v5SoundsEnabled":false,"aiVisionSettings":{"colors":[],"codes":[],"tags":true,"AIObjects":true,"AIObjectModel":[],"aiModelDropDownValue":null}}